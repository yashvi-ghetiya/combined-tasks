<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/task-6/css/displaystyle.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
  <center>
  <h1>YASHVI GHETIYA</h1>
  <div class="div2">
    <% var arr=[1,2,12] %>
    <% var arrselect=['','',''] %>
    <% for(let i=0;i<arr.length;i++) { %>
      <% if(arr[i]==month) {%>
        <% arrselect[i]="selected" %>
      <%}%>
    <% } %>

    <% var arr1=[2023,2024] %>
    <% var arrselect1=['',''] %>
    <% for(let i=0;i<arr1.length;i++) { %>
      <% if(arr1[i]==year) {%>
        <% arrselect1[i]="selected" %>
      <%}%>
    <% } %>

   
    <form>
      <select class="custom-select" name="months" id="months">
        <option value="<%= arr[0] %>" <%= arrselect[0] %>>Jan</option>
        <option value="<%= arr[1] %>" <%= arrselect[1] %>>Feb</option>
        <option value="<%= arr[2] %>" <%= arrselect[2] %>>Dec</option>
      </select> 
      <select class="custom-select" name="years" id="years">
        <option value="<%= arr1[0] %>" <%= arrselect1[0] %>>2023</option>
        <option value="<%= arr1[1] %>" <%= arrselect1[1] %>>2024</option>
      </select> 
      <input type="submit" value="Filter">
    </form>
  </div>
  <br><br>
    <table id="customers">
        <tr>
          <th><div style="display: flex;">Sid</th>
          <th><div style="display: flex;"><div style="margin: auto auto;">Firstname</div><div><i style="cursor: pointer;" onclick="window.location.href='./display?orderby=fname&ordertype=ASC'" class="bi bi-arrow-up-short"></i><i style="cursor: pointer;" onclick="window.location.href='./display?orderby=fname&ordertype=DESC'" class="bi bi-arrow-down-short"></i></div></div></th>
          <th><div style="display: flex;"><div style="margin: auto auto;">Lastname</div><div><i style="cursor: pointer;" onclick="window.location.href='./display?orderby=lname&ordertype=ASC'" class="bi bi-arrow-up-short"></i><i style="cursor: pointer;" onclick="window.location.href='./display?orderby=lname&ordertype=DESC'" class="bi bi-arrow-down-short"></i></div></div></th>
          <th><div style="display: flex;">Present Days</th>
          <th><div style="display: flex;">Precentage</th>
        </tr>
       

        <% result.forEach(row=>{%>
          <tr>
            <% for(let value in row){ %>
              <td><%= `${row[value]}` %></td>
              <% } %>
          </tr>   
        <% })%>
    </table>
    <div style="display: flex;">
      <div class="div1">
            <% var disabled=null%>
    
            <% if (page==1) { %>
              <% disabled="disabled" %>
            <% } %>
          
            <% var orderby1="undefined" %>
            <% if(orderby!="undefined"){ %>
              <% orderby1=orderby %>
            <%}%>
    
            <% var ordertype1="undefined" %>
            <% if(ordertype!="undefined"){ %>
              <% ordertype1=ordertype %>
            <%}%>
    
            <% var month1=1,year1=2024 %>
            <% if(year!="undefined" || month!="undefined") { %>
              <% month1=month %>
              <% year1=year %>
              <% } %>
             <center>
          <button id="firstpage" class="btn" onclick="window.location.href='./display?page=<%= 1 %>&orderby=<%= orderby1 %>&ordertype=<%= ordertype1 %>&months=<%= month1 %>&years=<%= year1 %>'" <%= disabled %>>&lt;&lt;</a>
          <button id="previouspage" class="btn" onclick="window.location.href='./display?page=<%= Number(page)-1 %>&orderby=<%= orderby1 %>&ordertype=<%= ordertype1 %>&months=<%= month1 %>&years=<%= year1 %>'"<%= disabled %>>&lt;</a>
          <div id="currentpage" class="btn" ><%= page %></div>
      
        
          <% disabled=null %>
          <% if (totalpages==page) { %>
            <% disabled="disabled" %>
          <% } %>
        
          <button id="nextpage" class="btn" onclick="window.location.href='./display?page=<%= Number(page)+1 %>&orderby=<%= orderby1 %>&ordertype=<%=ordertype1 %>&months=<%= month1 %>&years=<%= year1 %>'" <%= disabled %>>&gt;</button>
          <button id="lastpage" class="btn" onclick="window.location.href='./display?page=<%= totalpages %>&orderby=<%= orderby1 %>&ordertype=<%=ordertype1 %>&months=<%= month1 %>&years=<%= year1 %>'" <%= disabled %>>&gt;&gt;</button>
        </center>
      </div>
    
  
    </div>
  </center>
</body>
</html>